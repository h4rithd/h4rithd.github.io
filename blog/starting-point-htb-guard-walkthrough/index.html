<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title>Guard Walkthrough | HTB</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <link rel="preload" href="/assets/css/app.css?v=28d09394a7" as="style" />
    <link rel="preload" href="/assets/js/manifest.js?v=28d09394a7" as="script" />
    <link rel="preload" href="/assets/js/vendor/content-api.min.js?v=28d09394a7" as="script" />
    <link rel="preload" href="/assets/js/vendor.js?v=28d09394a7" as="script" />
    <link rel="preload" href="/assets/js/app.js?v=28d09394a7" as="script" />
    <link rel="preconnect" href="https://polyfill.io">
    <link rel="dns-prefetch" href="https://polyfill.io">

      <link rel="preload" href="/assets/css/post.css?v=28d09394a7" as="style" />
  <link rel="preload" href="/assets/js/post.js?v=28d09394a7" as="script" />


    <style>
      /* These font-faces are here to make fonts work if the Ghost instance is installed in a subdirectory */

      /* source-sans-pro-regular */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 400;
        font-display: swap;
        src: local('SourceSansPro-Regular'),
            url("/assets/fonts/source-sans-pro/latin/source-sans-pro-regular.woff2?v=28d09394a7") format('woff2'),
            url("/assets/fonts/source-sans-pro/latin/source-sans-pro-regular.woff?v=28d09394a7") format('woff');
      }

      /* source-sans-pro-600 */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 600;
        font-display: swap;
        src: local('SourceSansPro-SemiBold'),
            url("/assets/fonts/source-sans-pro/latin/source-sans-pro-600.woff2?v=28d09394a7") format('woff2'),
            url("/assets/fonts/source-sans-pro/latin/source-sans-pro-600.woff?v=28d09394a7") format('woff');
      }

      /* source-sans-pro-700 */
      @font-face {
        font-family: 'Source Sans Pro';
        font-style: normal;
        font-weight: 700;
        font-display: swap;
        src: local('SourceSansPro-Bold'),
            url("/assets/fonts/source-sans-pro/latin/source-sans-pro-700.woff2?v=28d09394a7") format('woff2'),
            url("/assets/fonts/source-sans-pro/latin/source-sans-pro-700.woff?v=28d09394a7") format('woff');
      }

      /* iconmoon */
      @font-face {
        font-family: 'icomoon';
        font-weight: normal;
        font-style: normal;
        font-display: swap;
        src: url("/assets/fonts/icomoon/icomoon.eot?101fc3?v=28d09394a7");
        src: url("/assets/fonts/icomoon/icomoon.eot?101fc3#iefix?v=28d09394a7") format('embedded-opentype'),
        url("/assets/fonts/icomoon/icomoon.ttf?101fc3?v=28d09394a7") format('truetype'),
        url("/assets/fonts/icomoon/icomoon.woff?101fc3?v=28d09394a7") format('woff'),
        url("/assets/fonts/icomoon/icomoon.svg?101fc3#icomoon?v=28d09394a7") format('svg');
      }
    </style>

    <link rel="stylesheet" type="text/css" href="/assets/css/app.css?v=28d09394a7" media="screen" />

      <link rel="stylesheet" type="text/css" href="/assets/css/post.css?v=28d09394a7" media="screen" />


    

    <link rel="icon" href="/favicon.ico" type="image/x-icon" />
    <link rel="canonical" href="http://192.168.8.3:2368/starting-point-htb-guard-walkthrough/" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="amphtml" href="http://192.168.8.3:2368/starting-point-htb-guard-walkthrough/amp/" />
    
    <meta property="og:site_name" content="h4rithd.com" />
    <meta property="og:type" content="article" />
    <meta property="og:title" content="Guard Walkthrough | HTB" />
    <meta property="og:description" content="After the Markup Walkthrough, Here I&#x27;m with Guard, so... let&#x27;s hack and grab the flags.  As I mentioned before, the starting point machines are a series of 9 machines rated as &quot;Very Easy&quot; and should be rooted in a sequence. So it means, if you need to go through this" />
    <meta property="og:url" content="http://192.168.8.3:2368/starting-point-htb-guard-walkthrough/" />
    <meta property="og:image" content="http://192.168.8.3:2368/content/images/2021/05/Gurd-Walkthrough.jpg" />
    <meta property="article:published_time" content="2021-05-29T10:22:43.000Z" />
    <meta property="article:modified_time" content="2021-05-30T09:30:32.000Z" />
    <meta property="article:tag" content="h4rithd" />
    <meta property="article:tag" content="Harith Dilshan" />
    <meta property="article:tag" content="Starting Point Walkthrough" />
    <meta property="article:tag" content="Guard Walkthrough" />
    
    <meta property="article:publisher" content="https://www.facebook.com/ShapManasick" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="Guard Walkthrough | HTB" />
    <meta name="twitter:description" content="After the Markup Walkthrough, Here I&#x27;m with Guard, so... let&#x27;s hack and grab the flags.  As I mentioned before, the starting point machines are a series of 9 machines rated as &quot;Very Easy&quot; and should be rooted in a sequence. So it means, if you need to go through this" />
    <meta name="twitter:url" content="http://192.168.8.3:2368/starting-point-htb-guard-walkthrough/" />
    <meta name="twitter:image" content="http://192.168.8.3:2368/content/images/2021/05/Gurd-Walkthrough.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Harith Dilshan" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="h4rithd, Harith Dilshan, Starting Point Walkthrough, Guard Walkthrough" />
    <meta name="twitter:site" content="@h4rithd" />
    <meta name="twitter:creator" content="@h4rithd" />
    <meta property="og:image:width" content="1920" />
    <meta property="og:image:height" content="1035" />
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "h4rithd.com",
        "url": "http://192.168.8.3:2368/",
        "logo": {
            "@type": "ImageObject",
            "url": "http://192.168.8.3:2368/content/images/2021/05/my.png",
            "width": 60,
            "height": 60
        }
    },
    "author": {
        "@type": "Person",
        "name": "Harith Dilshan",
        "image": {
            "@type": "ImageObject",
            "url": "http://192.168.8.3:2368/content/images/2021/05/176773693_2267679413366261_3955357600281674809_n-2.jpg",
            "width": 2000,
            "height": 2000
        },
        "url": "http://192.168.8.3:2368/author/h4rithd/",
        "sameAs": [
            "https://h4rithd.com/",
            "https://twitter.com/h4rithd"
        ]
    },
    "headline": "Guard Walkthrough | HTB",
    "url": "http://192.168.8.3:2368/starting-point-htb-guard-walkthrough/",
    "datePublished": "2021-05-29T10:22:43.000Z",
    "dateModified": "2021-05-30T09:30:32.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "http://192.168.8.3:2368/content/images/2021/05/Gurd-Walkthrough.jpg",
        "width": 1920,
        "height": 1035
    },
    "keywords": "h4rithd, Harith Dilshan, Starting Point Walkthrough, Guard Walkthrough",
    "description": "After the Markup Walkthrough, Here I&#x27;m with Guard, so... let&#x27;s hack and grab the\nflags.\n\n\n\n--------------------------------------------------------------------------------\n\nAs I mentioned before, the starting point machines are a series of 9 machines\nrated as &quot;Very Easy&quot; and should be rooted in a sequence. So it means, if you\nneed to go through this box, first of all you must have a complete Markup\n[https://h4rithd.com/blog/starting-point-htb-markup-walkthrough/index.html] \nmachine.\n\nEnough talk",
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://192.168.8.3:2368/"
    }
}
    </script>

    <meta name="generator" content="Ghost 4.6" />
    <link rel="alternate" type="application/rss+xml" title="h4rithd.com" href="http://192.168.8.3:2368/rss/" />
    
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.16.0/themes/prism-tomorrow.min.css"></link>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/plugins/toolbar/prism-toolbar.min.css" /><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/plugins/line-numbers/prism-line-numbers.min.css" />
<style>
    pre[class*=language-] {
        margin: 1.75em 0;
        font-size: 1.0rem;
        background: #111;
    }
</style>
<style>
.m-footer-copyright span:nth-child(2), .m-footer-copyright span:nth-child(3) {
    display: none;
}
</style>

<style>
blockquote {
    border-left: 4px solid #3897D3;
    font-weight: unset;
    line-height: unset;
    font-size: 17px;
    padding-left: 1rem;
    margin: 1rem 0;
}

.post-author-image {
    width: 100%;
    height: 100%;
}
</style>


<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.12.2/tocbot.css" /><style>:root {--ghost-accent-color: #2c90e8;}</style>

    <script>
      // @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&dn=expat.txt Expat
      const ghostHost = "http://192.168.8.3:2368"
      // @license-end
    </script>
  </head>
  <body class="post-template tag-h4rithd tag-harith-dilshan tag-starting-point-htb tag-guard-walkthrough">
    



  
<header class="m-header with-picture js-header">
  <div class="m-mobile-topbar" data-aos="fade-down">
    <button class="m-icon-button in-mobile-topbar js-open-menu" aria-label="Open menu">
      <span class="icon-menu" aria-hidden="true"></span>
    </button>
      <a href="http://192.168.8.3:2368" class="m-logo in-mobile-topbar">
        <img src="http://192.168.8.3:2368/content/images/2021/05/my.png" alt="h4rithd.com">
      </a>
    <button class="m-icon-button in-mobile-topbar js-open-search" aria-label="Open search">
      <span class="icon-search" aria-hidden="true"></span>
    </button>
  </div>

  <div class="m-menu js-menu">
    <button class="m-icon-button outlined as-close-menu js-close-menu" aria-label="Close menu">
      <span class="icon-close"></span>
    </button>
    <div class="m-menu__main" data-aos="fade-down">
      <div class="l-wrapper">
        <div class="m-nav js-main-nav">
          <nav class="m-nav__left js-main-nav-left" role="navigation" aria-label="Main menu">
            <ul>
                <li class="only-desktop">
                  <a href="http://192.168.8.3:2368" class="m-logo">
                    <img src="http://192.168.8.3:2368/content/images/2021/05/my.png" alt="h4rithd.com">
                  </a>
                </li>
                
    <li class="nav-me">
      <a href="https://h4rithd.com/">Me</a>
    </li>
    <li class="nav-blog">
      <a href="https://h4rithd.com/blog/">Blog</a>
    </li>
    <li class="nav-starting-point">
      <a href="https://h4rithd.com/blog/tag/starting-point-htb/">Starting Point</a>
    </li>

              <li class="submenu-option js-submenu-option">
                <button class="m-icon-button in-menu-main more js-toggle-submenu" aria-label="Open submenu">
                  <span class="icon-more" aria-hidden="true"></span>
                </button>
                <div class="m-submenu js-submenu">
                  <div class="l-wrapper in-submenu">
                    <section class="m-recent-articles">
                      <h3 class="m-submenu-title in-recent-articles">Recent articles</h3>
                          <div class="glide js-recent-slider">
                            <div class="glide__track" data-glide-el="track">
                              <div class="glide__slides">
                                <div class="glide__slide">
                                  <a href="/starting-point-htb-base-walkthrough/" class="m-recent-article">
                                    <div class="m-recent-article__picture ">
                                        <img src="/content/images/size/w300/2021/05/Base.jpg" loading="lazy" alt="">
                                    </div>
                                    <h3 class="m-recent-article__title js-recent-article-title" title="Base Walkthrough">
                                      Base Walkthrough
                                    </h3>
                                    <span class="m-recent-article__date">11 hours ago</span>
                                  </a>
                                </div>
                                <div class="glide__slide">
                                  <a href="/starting-point-htb-markup-walkthrough/" class="m-recent-article">
                                    <div class="m-recent-article__picture ">
                                        <img src="/content/images/size/w300/2021/05/Markup-.jpg" loading="lazy" alt="">
                                    </div>
                                    <h3 class="m-recent-article__title js-recent-article-title" title="Markup Walkthrough">
                                      Markup Walkthrough
                                    </h3>
                                    <span class="m-recent-article__date">a day ago</span>
                                  </a>
                                </div>
                                <div class="glide__slide">
                                  <a href="/starting-point-htb-guard-walkthrough/" class="m-recent-article">
                                    <div class="m-recent-article__picture ">
                                        <img src="/content/images/size/w300/2021/05/Gurd-Walkthrough.jpg" loading="lazy" alt="">
                                    </div>
                                    <h3 class="m-recent-article__title js-recent-article-title" title="Guard Walkthrough">
                                      Guard Walkthrough
                                    </h3>
                                    <span class="m-recent-article__date">a day ago</span>
                                  </a>
                                </div>
                                <div class="glide__slide">
                                  <a href="/starting-point-htb-included-walkthrough/" class="m-recent-article">
                                    <div class="m-recent-article__picture ">
                                        <img src="/content/images/size/w300/2021/05/Included-.jpg" loading="lazy" alt="">
                                    </div>
                                    <h3 class="m-recent-article__title js-recent-article-title" title="Included Walkthrough">
                                      Included Walkthrough
                                    </h3>
                                    <span class="m-recent-article__date">5 days ago</span>
                                  </a>
                                </div>
                              </div>
                            </div>
                          </div>
                    </section>
                    <section class="m-tags">
                      <h3 class="m-submenu-title">Tags</h3>
                        <ul>
                            <li>
                              <a href="/tag/archetype-walkthrough/">Archetype Walkthrough</a>
                            </li>
                            <li>
                              <a href="/tag/base-walkthrough/">Base Walkthrough</a>
                            </li>
                            <li>
                              <a href="/tag/guard-walkthrough/">Guard Walkthrough</a>
                            </li>
                            <li>
                              <a href="/tag/harith-dilshan/">Harith Dilshan</a>
                            </li>
                            <li>
                              <a href="/tag/included-walkthrough/">Included Walkthrough</a>
                            </li>
                            <li>
                              <a href="/tag/markup-walkthrough/">Markup Walkthrough</a>
                            </li>
                            <li>
                              <a href="/tag/oopsie-walkthrough/">Oopsie Walkthrough</a>
                            </li>
                            <li>
                              <a href="/tag/pathfinder-walkthrough/">Pathfinder Walkthrough</a>
                            </li>
                            <li>
                              <a href="/tag/shield-walkthrough/">Shield Walkthrough</a>
                            </li>
                            <li>
                              <a href="/tag/starting-point-htb/">Starting Point Walkthrough</a>
                            </li>
                        </ul>
                    </section>
                  </div>
                </div>
              </li>
            </ul>
          </nav>
          <div class="m-nav__right">
            <button class="m-icon-button in-menu-main js-open-search" aria-label="Open search">
              <span class="icon-search" aria-hidden="true"></span>
            </button>
            <div class="m-toggle-darkmode js-tooltip" data-tippy-content="Toggle dark mode" tabindex="0">
              <label for="toggle-darkmode" class="sr-only">
                Toggle dark mode
              </label>
              <input id="toggle-darkmode" type="checkbox" class="js-toggle-darkmode">
              <div>
                <span class="icon-moon moon" aria-hidden="true"></span>
                <span class="icon-sunny sun" aria-hidden="true"></span>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</header>

<main class="main-wrap">
    
  <section class="m-hero with-picture" data-aos="fade">
    <div class="m-hero__picture in-post">
      <img
        srcset="
          /content/images/size/w300/2021/05/Gurd-Walkthrough.jpg 300w,
          /content/images/size/w600/2021/05/Gurd-Walkthrough.jpg 600w,
          /content/images/size/w1000/2021/05/Gurd-Walkthrough.jpg 1000w,
          /content/images/size/w2000/2021/05/Gurd-Walkthrough.jpg 2000w
        "
        sizes="(max-width: 600px) 600px, (max-width: 1000px) 1000px, 2000px"
        src="/content/images/size/w1000/2021/05/Gurd-Walkthrough.jpg"
        alt=""
      />
    </div>
    </section>
  
  <article>
    <div class="l-content in-post">
        <div class="l-wrapper in-post  js-aos-wrapper" data-aos="fade-up"
          data-aos-delay="300">
          <div
            class="l-post-content js-progress-content">
            <header class="m-heading">
              <h1 class="m-heading__title in-post">Guard Walkthrough</h1>
              <div class="m-heading__meta">
                  <a href="http://192.168.8.3:2368/tag/h4rithd/" class="m-heading__meta__tag">h4rithd</a>
                  <span class="m-heading__meta__divider" aria-hidden="true">&bull;</span>
                <span class="m-heading__meta__time">May 29, 2021</span>
              </div>
            </header>
            <div class="pos-relative js-post-content">
              <div class="m-share">
                <div class="m-share__content js-sticky">
                  <a href="https://www.facebook.com/sharer/sharer.php?u=http://192.168.8.3:2368/starting-point-htb-guard-walkthrough/"
                    class="m-icon-button filled in-share" target="_blank" rel="noopener" aria-label="Facebook">
                    <span class="icon-facebook" aria-hidden="true"></span>
                  </a>
                  <a href="https://twitter.com/intent/tweet?text=Guard%20Walkthrough&url=http://192.168.8.3:2368/starting-point-htb-guard-walkthrough/"
                    class="m-icon-button filled in-share" target="_blank" rel="noopener" aria-label="Twitter">
                    <span class="icon-twitter" aria-hidden="true"></span>
                  </a>
                  <button class="m-icon-button filled in-share progress js-scrolltop" aria-label="Scroll to top">
                    <span class="icon-arrow-top" aria-hidden="true"></span>
                    <svg aria-hidden="true">
                      <circle class="progress-ring__circle js-progress" fill="transparent" r="0" />
                    </svg>
                  </button>
                </div>
              </div>
              <p>After the Markup Walkthrough, Here I'm with Guard, so... let's hack and grab the flags.<br></p><hr><p>As I mentioned before, the starting point machines are a series of 9 machines rated as "<strong>Very Easy</strong>" and should be <strong>rooted in a sequence</strong>. So it means, if you need to go through this box, first of all you must have a complete <a href="https://h4rithd.com/blog/starting-point-htb-markup-walkthrough/index.html">Markup</a> machine.</p><p>Enough talks, 🥱 Let’s Get It Started 🐱‍💻</p><!--kg-card-begin: html--><script src="https://apps.elfsight.com/p/platform.js" defer></script>
<div class="elfsight-app-a4de7430-6c0c-44b8-aada-9b9ac759e396"></div>

<!--kg-card-end: html--><blockquote><em><strong>⚠ Disclaimers: </strong>No flags (user/root) are shown in this writeup (as usual in writeups), so follow the procedure to grab the flags! 🐱‍👤</em></blockquote><hr><h2 id="00-start-machine-%E2%80%A6"><strong>00. Start Machine …</strong></h2><p>To start the machine, just click on "<strong>Spawn Machine</strong>".</p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-325.png" class="kg-image" alt loading="lazy" width="1625" height="734" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-325.png 600w, http://192.168.8.3:2368/content/images/size/w1000/2021/05/image-325.png 1000w, http://192.168.8.3:2368/content/images/size/w1600/2021/05/image-325.png 1600w, http://192.168.8.3:2368/content/images/2021/05/image-325.png 1625w" sizes="(min-width: 720px) 720px"></figure><p>Then you can see the <strong>IP </strong>address for that machine. Usually it is <strong>🤠</strong></p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-326.png" class="kg-image" alt loading="lazy" width="423" height="462"></figure><p>Before going to enumeration steps we can simply ping to the IP address and check whether  the VPN is connected and the machine is alive. Sometimes the machines might "Disable" ping requests when passing through the firewall. But in most cases ping will be a success! 🙂</p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-327.png" class="kg-image" alt loading="lazy" width="1484" height="554" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-327.png 600w, http://192.168.8.3:2368/content/images/size/w1000/2021/05/image-327.png 1000w, http://192.168.8.3:2368/content/images/2021/05/image-327.png 1484w" sizes="(min-width: 720px) 720px"></figure><p>As a ping result, its <code>TTL=63</code>. There is only one route between machine and us (VPN). So definitely, it will be a <code>Linux</code> machine.</p><hr><h2 id="01-enumeration-first-%E2%80%A6"><strong>01. Enumeration First …</strong></h2><h3 id="011-fast-ports-scan"><strong>01.1 Fast ports scan</strong></h3><p>As usual, run Nmap fast scan for all TCP ports to identify the ports which are open.</p><pre><code class="language-bash">nmap -n -vv --open -T4 -p- -oN AllPorts.nmap 10.10.10.50</code></pre><pre><code class="language-bash">-n  : Never do DNS resolution
-vv	: Extra verbosity
--open	: Output only open ports
-p-	: Full TCP ports range (65535)
-T4	: Aggressive (4) speeds scans; assumes you are on a reasonably fast and reliable network</code></pre><p>Here is the output 👇</p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-328.png" class="kg-image" alt loading="lazy" width="1634" height="1030" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-328.png 600w, http://192.168.8.3:2368/content/images/size/w1000/2021/05/image-328.png 1000w, http://192.168.8.3:2368/content/images/size/w1600/2021/05/image-328.png 1600w, http://192.168.8.3:2368/content/images/2021/05/image-328.png 1634w" sizes="(min-width: 720px) 720px"></figure><p>What the heck! only SSH?? Did anything go wrong?? 🤷‍♂️🤷‍♂️</p><h3 id="012-run-nmap-scripting-engine"><strong>01.2 Run Nmap Scripting Engine</strong></h3><p>To get the best result, we can run the <code>Nmap Scripting Engine</code> for all open ports. Now we know all of the open ports and therefore, we can point out and run the script engine as fast as possible.</p><pre><code class="language-bash">nmap -sV -sC -oN DetailPorts.nmap -p 22 10.10.10.50</code></pre><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-329.png" class="kg-image" alt loading="lazy" width="1724" height="846" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-329.png 600w, http://192.168.8.3:2368/content/images/size/w1000/2021/05/image-329.png 1000w, http://192.168.8.3:2368/content/images/size/w1600/2021/05/image-329.png 1600w, http://192.168.8.3:2368/content/images/2021/05/image-329.png 1724w" sizes="(min-width: 720px) 720px"></figure><p>It's only SSH port here. By looking at the SSH version <a href="https://launchpad.net/ubuntu/+source/openssh/1:7.6p1-4ubuntu0.3">information</a> from Nmap results, we can say that OS is <strong> "Ubuntu Bionic".</strong></p><p><strong> </strong>Now our attack vector is pretty small right? So let's search exploits for "OpenSSH 7.6p1". </p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-330.png" class="kg-image" alt loading="lazy" width="1780" height="554" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-330.png 600w, http://192.168.8.3:2368/content/images/size/w1000/2021/05/image-330.png 1000w, http://192.168.8.3:2368/content/images/size/w1600/2021/05/image-330.png 1600w, http://192.168.8.3:2368/content/images/2021/05/image-330.png 1780w" sizes="(min-width: 720px) 720px"></figure><p>Nothing found. The "<strong>OpenSSH &lt; 7.7 - User Enumeration (2)</strong>" is holy crap!! It runs on python2. I got so many dependency error and after fixing all module errors, what I got was nothing.😫😫 </p><p>Since the all the machines are in sequence.. What if we try to use the SSH key we found in the previous machine to login as daniel (the previous Markup Machine)</p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-332.png" class="kg-image" alt loading="lazy" width="1178" height="294" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-332.png 600w, http://192.168.8.3:2368/content/images/size/w1000/2021/05/image-332.png 1000w, http://192.168.8.3:2368/content/images/2021/05/image-332.png 1178w" sizes="(min-width: 720px) 720px"></figure><p>I copied the previous SSH key to my current directory and changed the permission as well. So let's try to login. Remember to use <code>Daniel</code> user as <code>daniel</code> because this is Linux box and all Linux machines has one rule: the username can not use capital letters.  </p><pre><code class="language-bash">ssh -i id_rsa daniel@10.10.10.50</code></pre><p>And we successfully logged in to the system. </p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-334.png" class="kg-image" alt loading="lazy" width="2000" height="984" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-334.png 600w, http://192.168.8.3:2368/content/images/size/w1000/2021/05/image-334.png 1000w, http://192.168.8.3:2368/content/images/size/w1600/2021/05/image-334.png 1600w, http://192.168.8.3:2368/content/images/2021/05/image-334.png 2316w" sizes="(min-width: 720px) 720px"></figure><p>But we can't view the user.txt.</p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-335.png" class="kg-image" alt loading="lazy" width="1256" height="370" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-335.png 600w, http://192.168.8.3:2368/content/images/size/w1000/2021/05/image-335.png 1000w, http://192.168.8.3:2368/content/images/2021/05/image-335.png 1256w" sizes="(min-width: 720px) 720px"></figure><hr><h2 id="02-foothold"><strong>02. Foothold</strong></h2><p>While you do the enumeration on this box you will note that we can not run some commands like python, cat and find likewise. It means some commands are restricted. 🔴🔴</p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-105.png" class="kg-image" alt loading="lazy" width="600" height="339" srcset="http://192.168.8.3:2368/content/images/2021/05/image-105.png 600w"></figure><p>After some enumerations and by going through the box I found a pretty cool trick and here it is.💡</p><p>Do you trust me if I say we can use <strong>man </strong>to read the user flag?? 🤔🤔 Fortunately, the <strong>man </strong>command can be used to spawn a bash shell. Follow me to grab user.txt.</p><p>Open the man page for any tool like <code>man ls</code> . Then press <code>shift + 1</code>  , it means '<strong>!</strong>' mark. Then type <code>bash</code> . The full command will be like <strong><code>!bash</code>  </strong>then hit enter. 😎😎 You think nothing happened? But then try to view user flag again using cat. This time you will succeed!! </p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-336.png" class="kg-image" alt loading="lazy" width="1016" height="332" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-336.png 600w, http://192.168.8.3:2368/content/images/size/w1000/2021/05/image-336.png 1000w, http://192.168.8.3:2368/content/images/2021/05/image-336.png 1016w" sizes="(min-width: 720px) 720px"></figure><p>Cool!! It's time to be the root!!</p><hr><h2 id="03-privilege-escalation">03. Privilege Escalation</h2><p>To do privilege escalations <a href="https://github.com/carlospolop/privilege-escalation-awesome-scripts-suite/tree/master/linPEAS">linPEAS</a> will help a lot. But if you are going to use it here, you will have to face a lot of issues. Therefore I will enumerate manually again. And we can find a readable <code>shadow</code> backup in <code>/var/backups</code></p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-342.png" class="kg-image" alt loading="lazy" width="1556" height="772" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-342.png 600w, http://192.168.8.3:2368/content/images/size/w1000/2021/05/image-342.png 1000w, http://192.168.8.3:2368/content/images/2021/05/image-342.png 1556w" sizes="(min-width: 720px) 720px"></figure><p>Let's open that file.</p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-343.png" class="kg-image" alt loading="lazy" width="2000" height="399" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-343.png 600w, http://192.168.8.3:2368/content/images/size/w1000/2021/05/image-343.png 1000w, http://192.168.8.3:2368/content/images/size/w1600/2021/05/image-343.png 1600w, http://192.168.8.3:2368/content/images/2021/05/image-343.png 2396w" sizes="(min-width: 720px) 720px"></figure><p>Here we only need root hash, so copy it to our host machine. Then we can hand over the rest of the work to my pet <a href="https://hashcat.net/hashcat/">Hashcat</a> 😻😻 </p><pre><code class="language-bash">echo "$6$KIP2PX8O$7VF4mj1i.w/.sIOwyeN6LKnmeaFTgAGZtjBjRbvX4pEHvx1XUzXLTBBu0jRLPeZS.69qNrPgHJ0yvc3N82hY31" &gt;hash

hashcat -m 1800 --force hash /usr/share/wordlists/rockyou.txt
</code></pre><p>While it's running, the Hashcat will prompt you like below; then press <code>s</code></p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-344.png" class="kg-image" alt loading="lazy" width="2000" height="1295" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-344.png 600w, http://192.168.8.3:2368/content/images/size/w1000/2021/05/image-344.png 1000w, http://192.168.8.3:2368/content/images/size/w1600/2021/05/image-344.png 1600w, http://192.168.8.3:2368/content/images/size/w2400/2021/05/image-344.png 2400w" sizes="(min-width: 720px) 720px"></figure><p>After it succeeded, you will see the cracked password and it is <code><strong>password#1</strong></code></p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-345.png" class="kg-image" alt loading="lazy" width="2000" height="1434" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-345.png 600w, http://192.168.8.3:2368/content/images/size/w1000/2021/05/image-345.png 1000w, http://192.168.8.3:2368/content/images/size/w1600/2021/05/image-345.png 1600w, http://192.168.8.3:2368/content/images/2021/05/image-345.png 2260w" sizes="(min-width: 720px) 720px"></figure><p>Then we can use this password to <code>su root</code> or you can use SSH like this.👇👇</p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-347.png" class="kg-image" alt loading="lazy" width="1708" height="1178" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-347.png 600w, http://192.168.8.3:2368/content/images/size/w1000/2021/05/image-347.png 1000w, http://192.168.8.3:2368/content/images/size/w1600/2021/05/image-347.png 1600w, http://192.168.8.3:2368/content/images/2021/05/image-347.png 1708w" sizes="(min-width: 720px) 720px"></figure><p>We got root flag. </p><figure class="kg-card kg-image-card"><img src="http://192.168.8.3:2368/content/images/2021/05/image-348.png" class="kg-image" alt loading="lazy" width="854" height="724" srcset="http://192.168.8.3:2368/content/images/size/w600/2021/05/image-348.png 600w, http://192.168.8.3:2368/content/images/2021/05/image-348.png 854w" sizes="(min-width: 720px) 720px"></figure><p> Now we have only one box left on the starting point path. So... I’ll see you in the next box! 🙋‍♂️🙋‍♂️</p><p><strong>Find me on </strong><a href="https://twitter.com/ShapManasick" rel="noopener noreferrer">@twitter</a></p><hr>
                <section class="m-tags in-post">
                  <h3 class="m-submenu-title">Tags</h3>
                  <ul>
                      <li>
                        <a href="/tag/h4rithd/" title="h4rithd">h4rithd</a>
                      </li>
                      <li>
                        <a href="/tag/harith-dilshan/" title="Harith Dilshan">Harith Dilshan</a>
                      </li>
                      <li>
                        <a href="/tag/starting-point-htb/" title="Starting Point Walkthrough">Starting Point Walkthrough</a>
                      </li>
                      <li>
                        <a href="/tag/guard-walkthrough/" title="Guard Walkthrough">Guard Walkthrough</a>
                      </li>
                  </ul>
                </section>
            </div>
          </div>
        </div>
        <section class="m-subscribe-section js-newsletter">
          <div class="l-wrapper in-post">
            <div class="m-subscribe-section__content">
              <div class="m-subscribe-section__text">
                <h4 class="m-subscribe-section__title">Subscribe to our newsletter</h4>
                <p class="m-subscribe-section__description">
                  Get the latest posts delivered right to your inbox.
                </p>
              </div>
              <div class="m-subscribe-section__form">
                
<div class="m-subscribe-section__form">
  <form data-members-form="subscribe" id="newsletter-form" class="m-subscribe-section__container">
    <div class="m-subscribe__form">
      <div class="pos-relative">
        <label for="newsletter-input" class="sr-only">Your email address</label>
        <input data-members-email id="newsletter-input" class="m-input in-subscribe-section" type="email"
          placeholder="Your email address" required />
      </div>
      <button id="newsletter-button" class="m-button primary block" type="submit">Subscribe</button>
    </div>
    <div class="m-subscribe__success">
      <header class="m-heading no-margin">
        <img src="/assets/images/success.png?v=28d09394a7" alt="Success!" class="m-subscribe__success_icon">
        <p class="m-heading__description in-newsletter-form">
          Now check your inbox and click the link to confirm your subscription.
        </p>
      </header>
    </div>
    <p class="m-subscribe__invalid m-small-text">
      Please enter a valid email address
    </p>
    <p class="m-subscribe__error m-small-text">
      Oops! There was an error sending the email, please try later.
    </p>
  </form>
</div>
              </div>
            </div>
          </div>
        </section>
        <section class="m-author">
          <div class="m-author__content">
            <div class="m-author__picture">
              <a href="http://192.168.8.3:2368/author/h4rithd/" class="m-author-picture" aria-label="Harith Dilshan">
                  <div style="background-image: url(http://192.168.8.3:2368/content/images/2021/05/176773693_2267679413366261_3955357600281674809_n-2.jpg);"></div>
              </a>
            </div>
            <div class="m-author__info">
              <h4 class="m-author__name">
                <a href="http://192.168.8.3:2368/author/h4rithd/">Harith Dilshan</a>
              </h4>
                <p class="m-author__bio">👨‍🎓 Graduated at SLIIT specialized in Cyber Security
👷‍♂️ Working at Dialog Axiata
🌏 From Sri Lanka </p>
              <ul class="m-author-links">
                  <li>
                    <a href="https://h4rithd.com/" target="_blank" rel="noopener" aria-label="Website">
                      <span class="icon-globe" aria-hidden="true"></span>
                    </a>
                  </li>
                  <li>
                    <a href="https://twitter.com/@h4rithd" target="_blank" rel="noopener" aria-label="Twitter">
                      <span class="icon-twitter" aria-hidden="true"></span>
                    </a>
                  </li>
              </ul>
            </div>
          </div>
        </section>
          <section class="m-recommended">
            <div class="l-wrapper in-recommended">
              <h3 class="m-section-title in-recommended">Recommended for you</h3>
              <div class="m-recommended-articles">
                <div class="m-recommended-slider glide js-recommended-slider">
                  <div class="glide__track" data-glide-el="track">
                    <div class="glide__slides">
                      
    <div class="m-recommended-slider__item glide__slide">
  <article class="m-article-card  post tag-h4rithd tag-harith-dilshan tag-starting-point-htb tag-base-walkthrough">
    <div class="m-article-card__picture">
      <a href="/starting-point-htb-base-walkthrough/" class="m-article-card__picture-link" aria-hidden="true" tabindex="-1"></a>
        <img class="m-article-card__picture-background" src="/content/images/size/w600/2021/05/Base.jpg" loading="lazy" alt="">
      <a href="http://192.168.8.3:2368/author/h4rithd/" class="m-article-card__author js-tooltip" aria-label="Harith Dilshan" data-tippy-content="Posted by Harith Dilshan ">
          <div style="background-image: url(/content/images/size/w100/2021/05/176773693_2267679413366261_3955357600281674809_n-2.jpg);"></div>
      </a>
    </div>
      <div class="m-article-card__info">
        <a href="http://192.168.8.3:2368/tag/h4rithd/" class="m-article-card__tag">h4rithd</a>
      <a href="/starting-point-htb-base-walkthrough/" class="m-article-card__info-link" aria-label="Base Walkthrough">
        <div>
          <h2 class="m-article-card__title js-article-card-title " title="Base Walkthrough">
            Base Walkthrough
          </h2>
        </div>
        <div class="m-article-card__timestamp">
          <span>11 hours ago</span>
          <span>&bull;</span>
          <span>6 min read</span>
        </div>
      </a>
    </div>
  </article>
    </div>
    <div class="m-recommended-slider__item glide__slide">
  <article class="m-article-card  post tag-h4rithd tag-harith-dilshan tag-starting-point-htb tag-markup-walkthrough">
    <div class="m-article-card__picture">
      <a href="/starting-point-htb-markup-walkthrough/" class="m-article-card__picture-link" aria-hidden="true" tabindex="-1"></a>
        <img class="m-article-card__picture-background" src="/content/images/size/w600/2021/05/Markup-.jpg" loading="lazy" alt="">
      <a href="http://192.168.8.3:2368/author/h4rithd/" class="m-article-card__author js-tooltip" aria-label="Harith Dilshan" data-tippy-content="Posted by Harith Dilshan ">
          <div style="background-image: url(/content/images/size/w100/2021/05/176773693_2267679413366261_3955357600281674809_n-2.jpg);"></div>
      </a>
    </div>
      <div class="m-article-card__info">
        <a href="http://192.168.8.3:2368/tag/h4rithd/" class="m-article-card__tag">h4rithd</a>
      <a href="/starting-point-htb-markup-walkthrough/" class="m-article-card__info-link" aria-label="Markup Walkthrough">
        <div>
          <h2 class="m-article-card__title js-article-card-title " title="Markup Walkthrough">
            Markup Walkthrough
          </h2>
        </div>
        <div class="m-article-card__timestamp">
          <span>a day ago</span>
          <span>&bull;</span>
          <span>7 min read</span>
        </div>
      </a>
    </div>
  </article>
    </div>
    <div class="m-recommended-slider__item glide__slide">
  <article class="m-article-card  post tag-h4rithd tag-harith-dilshan tag-starting-point-htb tag-included-walkthrough">
    <div class="m-article-card__picture">
      <a href="/starting-point-htb-included-walkthrough/" class="m-article-card__picture-link" aria-hidden="true" tabindex="-1"></a>
        <img class="m-article-card__picture-background" src="/content/images/size/w600/2021/05/Included-.jpg" loading="lazy" alt="">
      <a href="http://192.168.8.3:2368/author/h4rithd/" class="m-article-card__author js-tooltip" aria-label="Harith Dilshan" data-tippy-content="Posted by Harith Dilshan ">
          <div style="background-image: url(/content/images/size/w100/2021/05/176773693_2267679413366261_3955357600281674809_n-2.jpg);"></div>
      </a>
    </div>
      <div class="m-article-card__info">
        <a href="http://192.168.8.3:2368/tag/h4rithd/" class="m-article-card__tag">h4rithd</a>
      <a href="/starting-point-htb-included-walkthrough/" class="m-article-card__info-link" aria-label="Included Walkthrough">
        <div>
          <h2 class="m-article-card__title js-article-card-title " title="Included Walkthrough">
            Included Walkthrough
          </h2>
        </div>
        <div class="m-article-card__timestamp">
          <span>5 days ago</span>
          <span>&bull;</span>
          <span>7 min read</span>
        </div>
      </a>
    </div>
  </article>
    </div>
                    </div>
                  </div>
                  <div data-glide-el="controls" class="glide__arrows js-controls">
                    <button data-glide-dir="<" class="m-icon-button filled in-recommended-articles glide-prev" aria-label="Previous">
                      <span class="icon-arrow-left" aria-hidden="true"></span>
                    </button>
                    <button data-glide-dir=">" class="m-icon-button filled in-recommended-articles glide-next" aria-label="Next">
                      <span class="icon-arrow-right" aria-hidden="true"></span>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </section>
    </div>
  </article>
</main>



    
<div class="m-search js-search" role="dialog" aria-modal="true" aria-label="Search">
  <button class="m-icon-button outlined as-close-search js-close-search" aria-label="Close search">
    <span class="icon-close" aria-hidden="true"></span>
  </button>
  <div class="m-search__content">
    <form class="m-search__form">
      <div class="pos-relative">
        <span class="icon-search m-search-icon" aria-hidden="true"></span>
        <label for="search-input" class="sr-only">
          Type to search
        </label>
        <input id="search-input" type="text" class="m-input in-search js-input-search" placeholder="Type to search">
      </div>
    </form>
    <div class="js-search-results hide"></div>
    <p class="m-not-found align-center hide js-no-results">
      No results for your search, please try with something else.
    </p>
  </div>
</div>

    
<footer class="m-footer">
  <div class="m-footer__content">
    <nav class="m-footer-social">
        <a href="https://www.facebook.com/ShapManasick" target="_blank" rel="noopener" aria-label="Facebook">
          <span class="icon-facebook" aria-hidden="true"></span>
        </a>
        <a href="https://twitter.com/h4rithd" target="_blank" rel="noopener" aria-label="Twitter">
          <span class="icon-twitter" aria-hidden="true"></span>
        </a>
      <a href="http://192.168.8.3:2368/rss" aria-label="RSS">
        <span class="icon-rss" aria-hidden="true"></span>
      </a>
    </nav>
    <p class="m-footer-copyright">
      <span>h4rithd.com &copy; 2021</span>
      <span>&nbsp; &bull; &nbsp;</span>
      <span>Published with <a href="https://ghost.org" target="_blank" rel="noopener">Ghost</a></span>
    </p>
    <p class="m-footer-copyright jslicense">
      <a href="/assets/html/javascript.html?v=28d09394a7" rel="jslicense">JavaScript license information</a>
    </p>
  </div>
</footer>

    <div class="m-alert success subscribe js-alert" data-notification="subscribe">
  Great! You&#x27;ve successfully subscribed.
  <button class="m-alert__close js-notification-close" aria-label="Close">
    <span class="icon-close"></span>
  </button>
</div>

<div class="m-alert success signup js-alert" data-notification="signup">
  Great! Next, complete checkout for full access.
  <button class="m-alert__close js-notification-close" aria-label="Close">
    <span class="icon-close"></span>
  </button>
</div>

<div class="m-alert success signin js-alert" data-notification="signin">
  Welcome back! You&#x27;ve successfully signed in.
  <button class="m-alert__close js-notification-close" aria-label="Close">
    <span class="icon-close"></span>
  </button>
</div>

<div class="m-alert success checkout js-alert" data-notification="checkout">
  Success! Your account is fully activated, you now have access to all content.
  <button class="m-alert__close js-notification-close" aria-label="Close">
    <span class="icon-close"></span>
  </button>
</div>
    <script crossorigin="anonymous" src="https://polyfill.io/v3/polyfill.min.js?features=IntersectionObserver%2CPromise%2CArray.prototype.includes%2CString.prototype.endsWith%2CString.prototype.startsWith%2CObject.assign%2CNodeList.prototype.forEach"></script>
    <script defer src="/assets/js/manifest.js?v=28d09394a7"></script>
    <script defer src="/assets/js/vendor/content-api.min.js?v=28d09394a7"></script>
    <script defer src="/assets/js/vendor.js?v=28d09394a7"></script>
    <script defer src="/assets/js/app.js?v=28d09394a7"></script>

      <script defer src="/assets/js/post.js?v=28d09394a7"></script>


    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/prism.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.15.0/components/prism-python.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-bash.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-sql.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-powershell.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-ruby.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-csharp.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-cpp.min.js"></script>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/plugins/toolbar/prism-toolbar.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/plugins/copy-to-clipboard/prism-copy-to-clipboard.min.js"></script>
<script>
    window.addEventListener('DOMContentLoaded', (event) => {
        document.querySelectorAll('pre[class*=language-]').forEach(function (node) {
            node.classList.add('line-numbers');
        });
        Prism.highlightAll();
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.19.0/plugins/line-numbers/prism-line-numbers.min.js"></script>


<script>document.getElementsByClassName('m-button filled js-newsletter')[0].style.visibility = 'hidden';</script>
<script>document.getElementsByClassName('m-footer-copyright jslicense')[0].style.visibility = 'hidden';</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.12.2/tocbot.min.js"></script>
<script>
tocbot.init({
// Where to render the table of contents.
tocSelector: '.toc',
// Where to grab the headings to build the table of contents.
contentSelector: '.pos-relative js-post-content',
// Which headings to grab inside of the contentSelector element.
headingSelector: 'h1, h2, h3, h4, h5, h6' ,
// For headings inside relative or absolute positioned containers within content.
hasInnerContainers: true,
});
</script>
  </body>
</html>
